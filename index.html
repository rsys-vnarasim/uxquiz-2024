<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UX Quiz Game</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <!-- Initial loading state -->
        <div class="slide active">
            <h1 class="title">Loading UX Quiz...</h1>
            <div class="subtitle">Please wait</div>
        </div>
    </div>

    <!-- Feedback container for showing correct/incorrect messages -->
    <div id="feedback" class="feedback"></div>

    <script>
        // Ensures all modules are loaded before starting the game
        async function initGame() {
            try {
                // Load game modules
                const gameModule = await import('./js/game.js');
                const { default: quizData } = await import('./js/questions.js');

                // Initialize game
                window.game = new gameModule.default(
                    document.getElementById('game-container'),
                    quizData
                );
                game.init();
            } catch (error) {
                console.error('Failed to initialize game:', error);
                document.getElementById('game-container').innerHTML = `
                    <div class="slide active">
                        <h1 class="title">Error Loading Game</h1>
                        <div class="subtitle">Please check console for details</div>
                    </div>
                `;
            }
        }

        // Start initialization when page loads
        window.addEventListener('load', initGame);
    </script>

    <!-- Error handling for older browsers -->
    <script nomodule>
        document.getElementById('game-container').innerHTML = `
            <div class="slide active">
                <h1 class="title">Browser Not Supported</h1>
                <div class="subtitle">Please use a modern browser to play this game</div>
            </div>
        `;
    </script>

    <noscript>
        <div class="slide active">
            <h1 class="title">JavaScript Required</h1>
            <div class="subtitle">Please enable JavaScript to play this game</div>
        </div>
    </noscript>
</body>
</html>
